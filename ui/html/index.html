<!DOCTYPE html>
<html data-bs-theme=”auto”>
<head>
    <title>ytdlp2STRM Settings</title>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">
    <style>
      @media (prefers-color-scheme: dark) {
        body {
          color: var(--bs-secondary-bg-subtle);
          background-color: var(--bs-dark);
        }
        h1 {
          color: var(--bs-secondary-bg-subtle);
        }
        .text-muted {
            color: var(--bs-secondary-bg-subtle) !important;
          }
      }
    </style>
  </head>
<body>
    <div class="col-lg-8 mx-auto p-3 py-md-5">
        <header class="d-flex align-items-center pb-3 mb-5 border-bottom">
          <a href="/" class="d-flex align-items-center text-dark text-decoration-none">
            <h1>ytdlp2STRM - Settings</h1>
          </a>
        </header>
      
        <main>
          <div class="mb-5">
            <a href="/general" class="btn btn-primary btn-lg px-4">General Settings</a>
            <a href="/plugins" class="btn btn-primary btn-lg px-4">Enable / Disable Plugins</a>
            <a href="/crons" class="btn btn-primary btn-lg px-4">Enable / Disable CRONS</a>

          </div>
          <hr class="col-3 col-md-2 mb-5">

          <div class="row g-5">
            <div class="col-md-6">
              <h2>Plugins</h2>
              <ul class="icon-list">
                {% for value in plugins %}
                  <li class="text-muted">
                    <span class="badge bg-secondary">{{ value.name }}</span>
                    {% if value.enabled == True %}
                      <span class="badge bg-success">ENABLED</span>
                    {% else %}
                      <span class="badge bg-danger">DISABLED</span>
                    {% endif %}
                    <a href="/plugin/{{ value.name }}"><span class="badge bg-primary">Settings</span></a>
                    {% if value.channels != 'null' %}
                      <a href="/plugin/{{ value.name }}/channels"><span class="badge bg-primary">Channels</span></a>
                    {% endif %}
                  </li>
                {% endfor %}
              </ul>
            </div>
      
            <div class="col-md-6">
              <h2>Crons</h2>
              <ul class="icon-list">
                {% for value in crons %}
                  <li class="text-muted">
                    <span class="badge bg-secondary">{{ value.do[1] }}</span> in <span class="badge bg-secondary">{{ value.do[3] }}</span> mode, every <span class="badge bg-secondary">{{ value.qty }} {{ value.every }}</span> at <span class="badge bg-secondary">{{ value.at }}h</span>
                  </li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </main>
        <footer class="pt-5 my-5 text-muted border-top">
          <a href="https://github.com/fe80Grau/ytdlp2STRM" target="_blank"><i class="bi bi-github"></i> fe80grau / ytdlp2STRM</a>
        </footer>
      </div>
      <script>
        (function () {
        const htmlElement = document.querySelector("html")
        if(htmlElement.getAttribute("data-bs-theme") === 'auto') {
            function updateTheme() {
              document.querySelector("html").setAttribute(
                "data-bs-theme",
                window.matchMedia(
                  "(prefers-color-scheme: dark)"
                ).matches ? "dark" : "light"
              )
            }
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateTheme)
            updateTheme()
        }
        })()
    </script>
</body>
</html>